
{{!-- the dashboard page is what users see when they first log into the application; it includes the ability to create new posts as well as look at and edit the posts the user has already created; loggend-in users can also access the dashboard from any page by clicking the plus sign in the corner of the main page template  --}}

<section>
  <div class="newpost" id="newpost">
  <h2 style="text-align:center; padding:1%;">Create New Post <i class='fas fa-feather' style='font-size:40px'></i></h2>

  <form class="new-post-form">
    <div>
      <label for="post-title"><i class='fas fa-pen' style='font-size:30px'></i> Title</label>
      <input type="text" id="post-title" name="post-title" />
    </div>
    <div>
      <label for="content"><i class='fas fa-cat' style='font-size:30px'></i> Cat-tion</label>

      <input id="content" name="content" />
    </div>

{{!-- cloudinary enabled us to upload images and display them with the posts --}}
    <div>
      {{!-- add cloudinary code --}}
      <img src="" id="image-url" name="image-url" />
      <label class="file-upload-container" for="file-upload">
        <input id="file-upload" type="file" style="display: none;">
        Add an image
      </label>
      {{!-- cloudinary code end --}}

    </div>

    <button type="submit" class="btn">Create</button>
  </form>
  </div>
</section>

{{!-- {{#if posts.length}}
<section>
  <h2>Your Posts</h2>
  <ol>
    {{#each posts as |post|}}
    <li>
      {{> post-info post}}
      <a href="/dashboard/edit/{{post.id}}" class="edit-link">Edit post</a>
    </li>
    {{/each}}
  </ol>
</section>
{{/if}} --}}

{{!-- the postcard partial used below includes the link to edit posts rather than the commented out code above that used the post-info partial where we needed to add the link to edit posts on the next line --}}

{{#if posts.length}}
<section>
  <div class="postcard" id="postcard">
  <h2>Your Posts:</h2>
  <ul id="list">
    {{#each posts as |post|}}
    <li>
      {{> postcard post}}
      {{!-- <a href="/dashboard/edit/{{post.id}}" class="edit-link">Edit post</a> --}}
    </li>
    {{/each}}
  </ul>
  </div>
</section>
{{/if}}

{{!--
<script src="https://upload-widget.cloudinary.com/global/all.js" type="text/javascript">
</script> --}}
{{!-- the following scripts allow us to use cloudinary to upload images as well as the javascript functions in the add-post js file to create new posts --}}
<script src="https://unpkg.com/axios/dist/axios.min.js"></script>
<script src="/javascript/add-post.js"></script>